webpackJsonp([40],{M5CR:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),n=s.n(a),i=s("exGp"),r=s.n(i),o=s("Dd8w"),c=s.n(o),l=s("hxP8"),u=s("NYxO"),h=s("i84Q"),p=s("Uoa1"),_={components:{headTop:l.a,alertTip:p.a},created:function(){this.initDate(),this.shopid&&this.CLEAR_CART(this.shopid)},mounted:function(){this.remainingTime()},beforeDestroy:function(){clearInterval(this.timer)},data:function(){return{payDetail:!1,showAlert:!1,alertText:null,payWay:1,countNum:900,gotoOrders:!1}},methods:c()({},Object(u.c)(["CONFIRM_INVOICE","CLEAR_CART"]),{initDate:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.z)(t.orderMessage.order_id,t.userInfo.user_id);case 2:if(t.payDetail=e.sent,!t.payDetail.message){e.next=7;break}return t.showAlert=!0,t.alertText=t.payDetail.message,e.abrupt("return");case 7:case"end":return e.stop()}},e,t)}))()},remainingTime:function(){var t=this;clearInterval(this.timer),this.timer=setInterval(function(){t.countNum--,0==t.countNum&&(clearInterval(t.timer),alertText="支付超时",showAlert=!0)},1e3)},confrimPay:function(){this.showAlert=!0,this.alertText="当前环境无法支付,请打开app支付",this.gotoOrders=!0},closeTipFun:function(){this.showAlert=!1,this.gotoOrders&&this.$router.push("/order")}}),computed:c()({},Object(u.d)(["orderMessage","userInfo","shopid","cartPrice"]),{remaining:function(){var t=parseInt(this.countNum/60);console.log(t),t<10&&(t="0"+t);var e=parseInt(this.countNum%60);return e<10&&(e="0"+e),"00 : "+t+" : "+e}})},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payment_container"},[s("head-top",{attrs:{"head-title":"在线支付",goBack:"true"}}),t._v(" "),s("section",{staticClass:"payment_timer"},[s("section",[s("header",[t._v("支付剩余时间")]),t._v(" "),s("span",[t._v(t._s(t.remaining))])])]),t._v(" "),s("section",{staticClass:"payment_fangshi"},[s("header",[t._v("选择支付方式")]),t._v(" "),s("section",{staticClass:"paymenr_zifu"},[t._m(0),t._v(" "),s("svg",{staticClass:"choose_icon",class:{choosed_way:1==t.payWay},on:{click:function(e){t.payWay=1}}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#select"}})])]),t._v(" "),s("section",{staticClass:"paymenr_zifu"},[t._m(1),t._v(" "),s("svg",{staticClass:"choose_icon",class:{choosed_way:2==t.payWay},on:{click:function(e){t.payWay=2}}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#select"}})])])]),t._v(" "),s("section",{staticClass:"pay_buttom"},[s("div",{staticClass:"buttom",on:{click:t.confrimPay}},[t._v("确认支付")])]),t._v(" "),s("alert-tip",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],attrs:{alertText:t.alertText},on:{closeTip:t.closeTipFun}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"payment_item"},[e("div",{staticClass:"pay_icon_contaienr"},[e("div",{staticClass:"zifubao"}),this._v(" "),e("span",[this._v("支付宝")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"payment_item"},[e("div",{staticClass:"pay_icon_contaienr"},[e("div",{staticClass:"weixing"}),this._v(" "),e("span",[this._v("微信")])])])}]};var v=s("VU/8")(_,m,!1,function(t){s("rBgn")},null,null);e.default=v.exports},rBgn:function(t,e){}});
//# sourceMappingURL=40.e91d8db9e963544652f8.js.map